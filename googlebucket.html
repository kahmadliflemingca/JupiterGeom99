<!DOCTYPE html>
<html>
<head>
<title>Jupiter GIS -Female Led Mapping Solutions</title>
<!--We used this template to make this webpage https://www.w3schools.com/w3css/tryw3css_templates_website.htm-->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css/stylesheet.css">
<!--<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">-->
<link rel="stylesheet" href="css/blue.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body id="myPage">

<!-- Sidebar on click -->
<nav class="w3-sidebar w3-bar-block w3-white w3-card w3-animate-left w3-xxlarge" style="display:none;z-index:2" id="mySidebar">
  <a href="javascript:void(0)" onclick="w3_close()" class="w3-bar-item w3-button w3-display-topright w3-text-teal">Close
    <i class="fa fa-remove"></i>
  </a>
  <a href="https://www.google.com/maps/about/mymaps/" class="w3-bar-item w3-button">Google My Maps</a>
  <a href="https://leafletjs.com/" class="w3-bar-item w3-button">Leaflet</a>
  <a href="https://www.qgis.org/en/site/" class="w3-bar-item w3-button">QGIS</a>
  <a href="https://cloud.google.com/" class="w3-bar-item w3-button">Google Cloud Storage</a>
  <a href="https://flemingcollege.ca/" class="w3-bar-item w3-button">Fleming College</a>
</nav>

<!-- Navbar -->
<div class="w3-top">
 <div class="w3-bar w3-theme-d2 w3-left-align">
  <a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-hover-white w3-theme-d2" href="javascript:void(0);" onclick="openNav()"><i class="fa fa-bars"></i></a>
  <a href="index.html" class="w3-bar-item w3-button w3-teal"><i class="fa fa-home w3-margin-right"></i>Jupiter GIS</a>
  <a href="index.html" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Team</a>
  <a href="index.html" class="w3-bar-item w3-button w3-hide-small w3-hover-white">Solutions</a>
    <div class="w3-dropdown-hover w3-hide-small">
    <button class="w3-button" title="Notifications">Process <i class="fa fa-caret-down"></i></button>     
    <div class="w3-dropdown-content w3-card-4 w3-bar-block">
      <a href="googlemymaps.html" class="w3-bar-item w3-button">Google My Maps</a>
      <a href="qgis.html" class="w3-bar-item w3-button">QGIS</a>
      <a href="leaflet.html" class="w3-bar-item w3-button">Leaflet</a>
      <a href="googlebucket.html" class="w3-bar-item w3-button">Google Cloud Storage</a>
    </div>
  </div>
 </div>

  <!-- Navbar on small screens -->
  <div id="navDemo" class="w3-bar-block w3-theme-d2 w3-hide w3-hide-large w3-hide-medium">
    <a href="#team" class="w3-bar-item w3-button">Team</a>
    <a href="#work" class="w3-bar-item w3-button">Work</a>
  </div>
</div>

<!-- Image Header -->
<div class="w3-display-container w3-animate-opacity">
  <img src="photos/stream.avif" alt="river in gorge" style="width:100%;min-height:350px;max-height:600px;">
  <div class="w3-container w3-display-bottomleft w3-margin-bottom">  
    <button onclick="document.getElementById('id01').style.display='block'" class="w3-button w3-xlarge w3-theme w3-hover-teal" title="Go To W3.CSS">Important!</button>
  </div>
</div>

<!-- Modal -->
<div id="id01" class="w3-modal">
  <div class="w3-modal-content w3-card-4 w3-animate-top">
    <header class="w3-container w3-teal w3-display-container"> 
      <span onclick="document.getElementById('id01').style.display='none'" class="w3-button w3-teal w3-display-topright"><i class="fa fa-remove"></i></span>
      <h4>This Website has been created for educational purposes.</h4>
      <h5>Please keep this in mind while scrolling. <i class="fa fa-smile-o"></i></h5>
    </header>
    <div class="w3-container">
      <p>The information presented here may not be appropriate for all applications.</p>
      <p>Go to <a class="w3-text-teal" href="https://flemingcollege.ca/">Fleming College </a> to learn more.</p>
    </div>
    <footer class="w3-container w3-teal">
      <p>Keep exploring!</p>
    </footer>
  </div>
</div>

<h1>Google Cloud Storage: As a method to secure data in ArcGIS Online</h1>  <img src="photos/1star.png" alt="1 star" style="width:15%">
<p>Google Cloud Storage is a cloud based storage service that runs on Google Cloud's infrastructure. There are a number of storage products to meet a variety of needs from archiving, block storage and object storage. These storage products can be used for streaming videos, disks for virtual machines, backups, transferring archival data on a collaborative platform. Google storage has a range of pricing for these various options and can be scaled up or down for businesses or personal use. Storage solutions can be made public or require authentication through google services via assigning collaborators through the platform. It is this combination of storage and authentication that we will leverage for this project.</p>
  <p><u>The intent of this  investigation into Google cloud storage was to use it as a mechanism to secure data to be displayed in ArcGIS Online, rather than using ArcGIS Online privacy settings and the associated costs. </u> </p>
<!-- Container -->
<div class="w3-container" style="position:relative">
  <a onclick="w3_open()" class="w3-button w3-xlarge w3-circle w3-teal"
  style="position:absolute;top:-28px;right:24px">+</a>
</div>

<!-- Pro Row -->
<div class="w3-row-padding w3-center w3-padding-64" id="pricing">
    <div class="w3-third w3-margin-bottom">
      <ul class="w3-ul w3-border w3-hover-shadow">
        <li class="w3-theme">
          <p class="w3-xlarge">Pros</p>
        </li>
        <li class="w3-padding-16">Can hold LOTS of data</li>
        <li class="w3-padding-16">Can hold many data types</li>
        <li class="w3-padding-16">Collaborative</li>
        <li class="w3-padding-16">Secure Storage</li>
        <li class="w3-padding-16">Scalable from private to business</li>
        
      </ul>
    </div>
<!-- con Row -->
    <div class="w3-third w3-margin-bottom">
      <ul class="w3-ul w3-border w3-hover-shadow">
        <li class="w3-theme-l2">
          <p class="w3-xlarge">Cons</p>
        </li>
        <li class="w3-padding-16">Not Free</li>
        <li class="w3-padding-16">Complex</li>
        <li class="w3-padding-16">Overwhelming amount of technical options</li>
        <li class="w3-padding-16">CORS can cause issues</li>
        <li class="w3-padding-16">Does not create OAuth tokens required for authentication through AGOL</li>
      </ul>
    </div>

</div>

<h2>What Didn't Work</h2>
<p>ArcGIS Online requires an OAuth token for authentication for private data while Google Storage uses authentication through Google framework, requesting the gmail username and password of an authorized user. This was the issue that proved this method of hosting secure data through a public layer on AGOL was a dead end.</p>
<h2>What Did Work</h2>
<p>I was able to create a bucket to hold a Geojson file in Google Storage. I was also able to successfully share that as public data to AGOL as a url. I was also able to secure that data and assign users (using gmail accounts) and access that data via url after prompting a sign in to authorize access. To allow AGOL to access the data from my bucket, I had to allow CORS(Cross Origin Resource Sharing) for fleming ArcGIS online for my bucket. I did that using Google Cloud SDK Shell command line interface (CLI) and a CORS file that allowed that specific site.</p>
<img src="photos/cors.png" alt="cors" style="width:30%">
<p>Fig. 1 CORS file to allow fleming ArcGIS to access Google bucket</p>
<p>I then had to use Google Cloud SDK Shell CLI to assign this CORS file to my bucket, using the following gsutil cors.</p>
<li>Open a Google Cloud SDK Shell CLI and authenticate with your Google Cloud account by running the following command: gcloud auth login</li>
<li>Set your current project by running the following command: gcloud config set project "project_id" </li>
<li>Replace "project_id" with the ID of the Google Cloud project that contains the bucket you want to configure.</li>
<li>Set the CORS configuration for the bucket by running the following command: gsutil cors set "cors_config_file.json" gs://"bucket_name"</li>
<li>Replace "cors_config_file.json" with the path to a JSON file that contains your CORS configuration, and "bucket_name" with the name of the bucket you want to configure.</li>
<p>To add users to my private bucket, simply select "Permissions > Grant Access" and you will be offered many roles to assign to any gmail account</p>
<img src="photos/bucket_access.png" alt="Access" style="width:30%">
<h2>Outcome</h2>
<p>The final outcome of this investigation was that although I could access the publicly available data in my bucket and post it using a url to AGOL, the AGOL OAuth requirement for secured data meant that I was unable to access secured data in my bucket, through AGOL.</p>

<img src="photos/bucketfail.png" alt="bucket" style="width:30%">

<!-- Container -->
<div class="w3-container" style="position:relative">
  <a onclick="w3_open()" class="w3-button w3-xlarge w3-circle w3-teal"
  style="position:absolute;top:-28px;right:24px">+</a>
</div>



<script>
// Script for side navigation
function w3_open() {
  var x = document.getElementById("mySidebar");
  x.style.width = "300px";
  x.style.paddingTop = "10%";
  x.style.display = "block";
}

// Close side navigation
function w3_close() {
  document.getElementById("mySidebar").style.display = "none";
}

// Used to toggle the menu on smaller screens when clicking on the menu button
function openNav() {
  var x = document.getElementById("navDemo");
  if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
  } else { 
    x.className = x.className.replace(" w3-show", "");
  }
}
</script>

</body>
</html>



<!-- Modal -->
<div id="id01" class="w3-modal">
  <div class="w3-modal-content w3-card-4 w3-animate-top">
    <header class="w3-container w3-teal w3-display-container"> 
      <span onclick="document.getElementById('id01').style.display='none'" class="w3-button w3-teal w3-display-topright"><i class="fa fa-remove"></i></span>
      <h4>This Website has been created for educational purposes.</h4>
      <h5>Please keep this in mind while scrolling. <i class="fa fa-smile-o"></i></h5>
    </header>
    <div class="w3-container">
      <p>The information presented here may not be appropriate for all applications.</p>
      <p>Go to <a class="w3-text-teal" href="https://flemingcollege.ca/">Fleming College </a> to learn more.</p>
    </div>
    <footer class="w3-container w3-teal">
      <p>Keep exploring!</p>
    </footer>
  </div>
</div>

</div>

<!-- Container -->
<div class="w3-container" style="position:relative">
  <a onclick="w3_open()" class="w3-button w3-xlarge w3-circle w3-teal"
  style="position:absolute;top:-28px;right:24px">+</a>
</div>



<script>
// Script for side navigation
function w3_open() {
  var x = document.getElementById("mySidebar");
  x.style.width = "300px";
  x.style.paddingTop = "10%";
  x.style.display = "block";
}

// Close side navigation
function w3_close() {
  document.getElementById("mySidebar").style.display = "none";
}

// Used to toggle the menu on smaller screens when clicking on the menu button
function openNav() {
  var x = document.getElementById("navDemo");
  if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
  } else { 
    x.className = x.className.replace(" w3-show", "");
  }
}
</script>

</body>
</html>
